{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = `https://pixabay.com`;\nconst API_KEY = '44423269-f21c5bc9414954348df27e7dd';\n\nexport function fetchImages(query) {\n  const END_POINT = `/api/`;\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderGallery(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = images\n    .map(\n      image => `\n      <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n        <div class=\"image-card\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          <p>${image.tags}</p>\n        </div>\n      </a>\n    `\n    )\n    .join('');\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      /* options */\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\nexport function clearGallery() {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery, showError, clearGallery } from './js/render-functions';\n\nconst loaderWrapper = document.querySelector('.loader-wrapper');\n\nconst refs = {\n  form: document.querySelector('.js-picture-form'),\n  input: document.querySelector('.js-picture-form input[name=\"query\"]'),\n  gallery: document.getElementById('gallery'),\n};\n\nrefs.form.addEventListener('submit', function (e) {\n  e.preventDefault();\n\n  const query = refs.input.value.trim();\n  if (query === '') {\n    showError('Please enter a search term');\n    return;\n  }\n  clearGallery();\n\n  loaderWrapper.style.display = 'block';\n\n  fetchImages(query)\n    .then(data => {\n      loaderWrapper.style.display = 'none';\n      if (data.hits.length === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      } else {\n        renderGallery(data.hits);\n      }\n    })\n\n    .catch(error => {\n      loaderWrapper.style.display = 'none';\n      showError(\n        'An error occurred while fetching the images. Please try again.'\n      );\n    });\n});\n"],"names":["BASE_URL","API_KEY","fetchImages","query","END_POINT","params","url","response","error","lightbox","renderGallery","images","gallery","image","SimpleLightbox","showError","message","iziToast","clearGallery","loaderWrapper","refs","e","data"],"mappings":"6vBAAA,MAAMA,EAAW,sBACXC,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGN,CAAQ,GAAGI,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCnBA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAYD,EACjB,IACCE,GAAS;AAAA,iBACEA,EAAM,aAAa;AAAA;AAAA,sBAEdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA,eAC7CA,EAAM,IAAI;AAAA;AAAA;AAAA,KAIpB,EACA,KAAK,EAAE,EAELJ,EAKHA,EAAS,QAAO,EAJhBA,EAAW,IAAIK,EAAe,aAAc,CAEhD,CAAK,CAIL,CAEO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CAEO,SAASE,GAAe,CAC7B,MAAMN,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,EACtB,CCtCA,MAAMO,EAAgB,SAAS,cAAc,iBAAiB,EAExDC,EAAO,CACX,KAAM,SAAS,cAAc,kBAAkB,EAC/C,MAAO,SAAS,cAAc,sCAAsC,EACpE,QAAS,SAAS,eAAe,SAAS,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAU,SAAUC,EAAG,CAChDA,EAAE,eAAc,EAEhB,MAAMlB,EAAQiB,EAAK,MAAM,MAAM,KAAI,EACnC,GAAIjB,IAAU,GAAI,CAChBY,EAAU,4BAA4B,EACtC,MACD,CACDG,IAEAC,EAAc,MAAM,QAAU,QAE9BjB,EAAYC,CAAK,EACd,KAAKmB,GAAQ,CACZH,EAAc,MAAM,QAAU,OAC1BG,EAAK,KAAK,SAAW,EACvBP,EACE,0EACV,EAEQL,EAAcY,EAAK,IAAI,CAE/B,CAAK,EAEA,MAAMd,GAAS,CACdW,EAAc,MAAM,QAAU,OAC9BJ,EACE,gEACR,CACA,CAAK,CACL,CAAC"}